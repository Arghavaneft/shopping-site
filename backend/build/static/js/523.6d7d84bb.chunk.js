"use strict";(self.webpackChunkrare_shop=self.webpackChunkrare_shop||[]).push([[523],{81201:function(e,n,t){t.d(n,{x:function(){return r}});var r=new(t(62997).Z)("/");r.setNewProduct=function(e){return this.instance.post("".concat(this.baseApisUrl,"/newproduct"),e)},r.getCategoryId=function(){return this.instance.get("".concat(this.baseApisUrl,"category"))},r.getSubCategoryId=function(){return this.instance.get("".concat(this.baseApisUrl,"subCategory"))},r.login=function(e){return this.instance.post("".concat(this.baseApisUrl,"auth/login"),e)},r.getUser=function(){return this.instance.get("".concat(this.baseApisUrl,"users"))},r.upload=function(e){return this.instance.post("".concat(this.baseApisUrl,"upload"),e)},r.update=function(e,n){return this.instance.patch("".concat(this.baseApisUrl).concat(e),n)}},72053:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(72791),a=t(70885),o=t(84395),i=t(34663),s=t(20890),l=t(26445),c=t(43504),u=t(96194),d=t(80184),h=(0,u.Z)({root:{display:"flex",listStyle:"none",justifyContent:"center",marginTop:0,"& li a":{textDecoration:"none",margin:"0 1rem",padding:"1rem",cursor:"pointer",fontSize:20,color:"white"},"& li a:hover":{color:"#856047"}}}),p=function(){var e=h(),n=(0,r.useState)(1),t=(0,a.Z)(n,2),u=t[0],p=t[1],f=function(){return{color:"#856047",textDecoration:"none"}},v=function(){return{color:"white",textDecoration:"none"}};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(o.Z,{sx:{background:"black"},position:"static",children:(0,d.jsxs)(l.Z,{maxWidth:"xl",children:[(0,d.jsx)(i.Z,{disableGutters:!0,children:(0,d.jsx)(c.OL,{to:"/",className:"link-style",children:(0,d.jsx)(s.Z,{className:"logo-shop",variant:"h6",noWrap:!0,component:"div",sx:{marginTop:"auto",fontSize:24},children:"Rare Shop"})})}),(0,d.jsxs)("ul",{className:e.root,children:[(0,d.jsx)("li",{onClick:function(){return p(1)},children:(0,d.jsx)(c.OL,{style:1===u?f:v,to:"/dashboard/products",children:"\u06a9\u0627\u0644\u0627 \u0647\u0627"})}),(0,d.jsx)("li",{onClick:function(){return p(2)},children:(0,d.jsx)(c.OL,{style:2===u?f:v,to:"/dashboard/inventory",children:"\u0645\u0648\u062c\u0648\u062f\u06cc \u0648 \u0642\u06cc\u0645\u062a \u0647\u0627"})}),(0,d.jsx)("li",{onClick:function(){return p(3)},children:(0,d.jsx)(c.OL,{style:3===u?f:v,to:"/dashboard/order",children:"\u0633\u0641\u0627\u0631\u0634 \u0647\u0627"})})]})]})})})},f=function(e){var n=e.children;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p,{}),(0,d.jsx)("div",{children:n})]})}},78915:function(e,n,t){t.d(n,{_:function(){return r}});var r="http://localhost:8000"},36523:function(e,n,t){t.r(n),t.d(n,{default:function(){return $}});var r=t(72791),a=t(15861),o=t(70885),i=t(87757),s=t.n(i),l=t(10703),c=t(79836),u=t(53382),d=t(53994),h=t(39281),p=t(56890),f=t(39663),v=t(35855),x=t(96194),m=t(94925),g=t(39891),j=t(68096),Z=t(37056),b=t(97642),w=t(81201),y=t(78915),C=t(1413),k=t(62997),P=(new k.Z("/"),t(4942)),I=t(64554),N=t(36151),S=t(98938),F=t(27391),R=t(84795),U=t(15671),B=t(43144),A=t(60136),M=t(29388),D=t(7551),W=t(52443),O=t.n(W),T=t(80184),L=function(e){(0,A.Z)(t,e);var n=(0,M.Z)(t);function t(e){return(0,U.Z)(this,t),n.call(this,e)}return(0,B.Z)(t,[{key:"render",value:function(){var e=this;return(0,T.jsx)("div",{className:"App",children:(0,T.jsx)(D.CKEditor,{editor:O(),data:"<p>".concat(this.props.description,"</p>"),onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(n,t){var r=t.getData();e.props.setNewProduct((0,C.Z)((0,C.Z)({},e.props.newProduct),{},{description:r})),console.log({event:n,editor:t,data:r})},onBlur:function(e,n){console.log("Blur.",n)},onFocus:function(e,n){console.log("Focus.",n)}})})}}]),t}(r.Component),V=(0,x.Z)({root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,height:550,background:"white",border:"2px solid #000",boxShadow:24,padding:40,"& .MuiFormControl-root":{margin:10},"& .MuiButton-root":{background:"black",marginBottom:10,marginTop:20}},fileButton:{float:"left"},".MuiButtonBase-root svg":{color:"black"}}),_=function(e){var n=e.row,t=e.newProduct,a=e.setNewProduct,i=e.buttonName,s=e.handleUploadFile,l=e.addProduct,c=e.imgRef,u=(0,r.useState)(!1),d=(0,o.Z)(u,2),h=d[0],p=d[1],f=(0,r.useState)(""),v=(0,o.Z)(f,2),x=v[0],g=v[1],Z=function(){return p(!1)},b=V(),w=function(e){a((0,C.Z)((0,C.Z)({},t),{},(0,P.Z)({},e.target.name,e.target.value))),e.target.value.match(/\d/g)?g(""):g("\u0644\u0637\u0641\u0627 \u0639\u062f\u062f \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f!")};return(0,T.jsxs)("div",{children:[(0,T.jsx)(N.Z,{sx:{color:"black",transform:"rotate(180deg)"},onClick:function(){return p(!0)},children:i}),(0,T.jsx)(S.Z,{open:h,onClose:Z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,T.jsxs)(I.Z,{className:b.root,children:[(0,T.jsxs)(N.Z,{className:b.fileButton,variant:"contained",component:"label",children:["\u0627\u0641\u0632\u0648\u062f\u0646 \u0639\u06a9\u0633",(0,T.jsx)("input",{type:"file",multiple:!0,hidden:!0,onChange:s})]}),(0,T.jsx)(F.Z,{className:b.inputName,label:"\u0646\u0627\u0645 \u06a9\u0627\u0644\u0627",name:"name",defaultValue:null===n||void 0===n?void 0:n.name,variant:"standard",value:null===t||void 0===t?void 0:t.name,onChange:function(e){return a((0,C.Z)((0,C.Z)({},t),{},(0,P.Z)({},e.target.name,e.target.value)))}}),(0,T.jsx)(F.Z,{label:"\u0642\u06cc\u0645\u062a",name:"price",variant:"standard",helperText:x,defaultValue:null===n||void 0===n?void 0:n.price,error:x,value:null===t||void 0===t?void 0:t.price,onChange:w}),(0,T.jsx)("img",{style:{float:"left"},alt:"",src:"",ref:c,height:100}),(0,T.jsx)(F.Z,{label:"\u062a\u0639\u062f\u0627\u062f \u0645\u0648\u062c\u0648\u062f\u06cc",name:"inventory",variant:"standard",defaultValue:null===n||void 0===n?void 0:n.inventory,helperText:x,error:x,value:null===t||void 0===t?void 0:t.inventory,onChange:w}),(0,T.jsxs)(j.Z,{name:"categoryId",fullWidth:!0,defaultValue:null===n||void 0===n?void 0:n.categoryId,value:null===t||void 0===t?void 0:t.categoryId,onChange:function(e){return a((0,C.Z)((0,C.Z)({},t),{},{categoryId:parseInt(e.target.value)}))},children:[(0,T.jsx)(m.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"}),(0,T.jsxs)(R.Z,{defaultValue:1,inputProps:{name:"categoryId",id:"uncontrolled-native"},children:[(0,T.jsx)("option",{}),(0,T.jsx)("option",{value:1,children:" \u067e\u0648\u0634\u0627\u06a9 "}),(0,T.jsx)("option",{value:2,children:"\u06a9\u06cc\u0641 \u0648 \u06a9\u0641\u0634 "}),(0,T.jsx)("option",{value:3,children:"\u0627\u06a9\u0633\u0633\u0648\u0631\u06cc"})]})]}),(0,T.jsxs)(j.Z,{name:"subCategoryId",fullWidth:!0,value:null===t||void 0===t?void 0:t.subCategoryId,defaultValue:null===n||void 0===n?void 0:n.subCategoryId,onChange:function(e){return a((0,C.Z)((0,C.Z)({},t),{},{subCategoryId:parseInt(e.target.value)}))},children:[(0,T.jsx)(m.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"\u0632\u06cc\u0631 \u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"}),(0,T.jsxs)(R.Z,{defaultValue:1,inputProps:{name:"subCategoryId",id:"controlled-native"},children:[(0,T.jsx)("option",{}),(0,T.jsx)("option",{value:1,children:"\u0634\u0644\u0648\u0627\u0631"}),(0,T.jsx)("option",{value:2,children:"\u062a\u06cc\u0634\u0631\u062a \u0648 \u0634\u0648\u0645\u06cc\u0632"}),(0,T.jsx)("option",{value:3,children:"\u067e\u06cc\u0631\u0627\u0647\u0646"}),(0,T.jsx)("option",{value:4,children:"\u06a9\u0641\u0634 \u0627\u0633\u067e\u0631\u062a"}),(0,T.jsx)("option",{value:5,children:"\u06a9\u0641\u0634 \u0645\u062c\u0644\u0633\u06cc"}),(0,T.jsx)("option",{value:6,children:"\u06a9\u06cc\u0641"}),(0,T.jsx)("option",{value:7,children:"\u0639\u06cc\u0646\u06a9"}),(0,T.jsx)("option",{value:8,children:"\u06af\u0631\u062f\u0646\u0628\u0646\u062f \u0648 \u062f\u0633\u062a\u0628\u0646\u062f"}),(0,T.jsx)("option",{value:9,children:"\u06af\u0648\u0634\u0648\u0627\u0631\u0647 \u0648 \u0627\u0646\u06af\u0634\u062a\u0631"})]})]}),(0,T.jsx)(L,{description:null===n||void 0===n?void 0:n.description,newProduct:t,setNewProduct:a}),(0,T.jsx)(N.Z,{onClick:l,variant:"contained",component:"label",children:"\u0630\u062e\u06cc\u0631\u0647"})]})})]})};function q(){var e=(0,r.useState)({name:"",categoryId:null,subCategoryId:null,price:null,inventory:null,image:"",images:[],description:""}),n=(0,o.Z)(e,2),t=n[0],i=n[1],l=(0,r.useRef)(),c=function(e){var n=new FileReader;n.onload=function(e){var n;l&&l.current&&(l.current.src=null===(n=e.target)||void 0===n?void 0:n.result)},n.readAsDataURL(e)},u=function(){var e=(0,a.Z)(s().mark((function e(n){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.target.files,c(r[0]),a=[],Object.values(r).map((function(e){var n=new FormData;n.append("image",e);var t=w.x.upload(n);a.push(t)})),e.next=6,Promise.all(a);case 6:o=e.sent,i((0,C.Z)((0,C.Z)({},t),{},{image:"/files/".concat(o[0].data.filename),images:o.map((function(e){return"/files/".concat(e.data.filename)}))}));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,T.jsx)("div",{children:(0,T.jsx)(_,{handleUploadFile:u,newProduct:t,setNewProduct:i,buttonName:"\u06a9\u0627\u0644\u0627\u06cc \u062c\u062f\u06cc\u062f",addProduct:function(){var e=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.q.post(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()},imgRef:l})})}var E=t(27247),H=t(99875),z=function(e){var n=e.id,t=e.onFinish,r=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.q.delete(n);case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,T.jsx)("div",{children:(0,T.jsx)(H.Z,{onClick:function(){return r(n)},children:(0,T.jsx)(E.Z,{})})})},G=t(41286),K=function(e){var n=e.row,t=(0,r.useState)({}),i=(0,o.Z)(t,2),l=i[0],c=i[1],u=(0,r.useRef)(),d=function(e){var n=new FileReader;n.onload=function(e){var n;u&&u.current&&(u.current.src=null===(n=e.target)||void 0===n?void 0:n.result)},n.readAsDataURL(e)},h=function(){var e=(0,a.Z)(s().mark((function e(n){var t,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target.files,d(t[0]),r=[],Object.values(t).map((function(e){var n=new FormData;n.append("image",e);var t=w.x.upload(n);r.push(t)})),e.next=6,Promise.all(r);case 6:a=e.sent,c((0,C.Z)((0,C.Z)({},l),{},{image:"/files/".concat(a[0].data.filename),images:a.map((function(e){return"/files/".concat(e.data.filename)}))}));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,T.jsx)("div",{children:(0,T.jsx)(_,{row:n,handleUploadFile:h,newProduct:l,buttonName:(0,T.jsx)(G.Z,{}),addProduct:function(){var e=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.q.patch(n.id,l);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()},setNewProduct:c,imgRef:u})})},Y=t(43504),J=(0,x.Z)({root:{background:"#E6BC98",margin:"auto",width:"70%",padding:50,overflow:"hidden",border:"1px solid black","& .row_cell":{width:300,textAlign:"center"},"& .MuiTableRow-root":{width:"100%"},"& .MuiTableCell-head ":{background:"black",color:"white",padding:40},"& .MuiTableContainer-root::-webkit-scrollbar":{display:"none"},"& .MuiFormControl-root ":{"& .MuiInputLabel-root":{color:"white"},"& .MuiSelect-select":{color:"white",borderBottom:"1px white solid"}},"& .MuiButtonBase-root svg":{transform:"rotate(180deg)"}}});function Q(){var e=(0,r.useState)(0),n=(0,o.Z)(e,2),t=n[0],i=n[1],x=(0,r.useState)(10),C=(0,o.Z)(x,2),k=C[0],P=C[1],I=(0,r.useState)([]),N=(0,o.Z)(I,2),S=N[0],F=N[1],R=(0,r.useState)([]),U=(0,o.Z)(R,2),B=U[0],A=U[1],M=(0,r.useState)([]),D=(0,o.Z)(M,2),W=D[0],O=D[1],L=(0,r.useState)([]),V=(0,o.Z)(L,2),_=V[0],E=V[1],H=J(),G=function(){var e=(0,a.Z)(s().mark((function e(){var n,t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.q.gets({params:{categoryId:S}});case 2:return n=e.sent,A(n.data),e.next=6,w.x.getCategoryId();case 6:return t=e.sent,E(t.data),e.next=10,w.x.getSubCategoryId();case 10:r=e.sent,O(r.data);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){G()}),[S]);var Q=function(e){var n=_.find((function(n){return n.id==e}));return null===n||void 0===n?void 0:n.name},X=function(e){var n=W.find((function(n){return n.id==e}));return null===n||void 0===n?void 0:n.name};return(0,T.jsxs)("div",{className:H.root,children:[(0,T.jsx)(q,{}),(0,T.jsxs)(l.Z,{sx:{borderRadius:0},children:[(0,T.jsx)(h.Z,{className:H.scrollClass,sx:{maxHeight:440,overflowY:"scroll"},children:(0,T.jsxs)(c.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,T.jsx)(p.Z,{children:(0,T.jsxs)(v.Z,{className:H.table_row,children:[(0,T.jsx)(d.Z,{style:{minWidth:60,maxHeight:60},children:"\u062a\u0635\u0648\u06cc\u0631"}),(0,T.jsx)(d.Z,{style:{minWidth:100},children:"\u0646\u0627\u0645 \u0645\u062d\u0635\u0648\u0644"}),(0,T.jsx)(d.Z,{style:{minWidth:100},children:(0,T.jsxs)(j.Z,{variant:"standard",sx:{m:1,minWidth:120},children:[(0,T.jsx)(m.Z,{id:"demo-simple-select-standard-label",children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc"}),(0,T.jsx)(Z.Z,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",onChange:function(e){var n=e.target.value;F(n)},children:_.map((function(e){return(0,T.jsx)(g.Z,{value:null===e||void 0===e?void 0:e.id,children:e.name})}))})]})}),(0,T.jsx)(d.Z,{})]})}),(0,T.jsx)(u.Z,{children:Object.values(B).slice(t*k,t*k+k).map((function(e){return(0,T.jsxs)(v.Z,{className:"table_row",role:"checkbox",tabIndex:-1,children:[(0,T.jsx)(d.Z,{children:(0,T.jsx)("img",{style:{maxWidth:60},src:y._+e.image,alt:"\u062a\u0635\u0648\u06cc\u0631 \u06a9\u0627\u0644\u0627"})}),(0,T.jsx)(d.Z,{children:(0,T.jsx)(Y.rU,{className:"link-style",to:"/product/".concat(e.id),children:e.name})}),(0,T.jsx)(d.Z,{children:Q(e.categoryId)+"/ "+X(e.subCategoryId)}),(0,T.jsx)(d.Z,{children:(0,T.jsxs)("div",{style:{display:"flex"},children:[(0,T.jsx)(z,{onFinish:G,id:e.id}),(0,T.jsx)(K,{row:e,onFinish:G})]})})]},e.code)}))})]})}),(0,T.jsx)(f.Z,{className:H.pagination,rowsPerPageOptions:[10,25,100],component:"div",labelRowsPerPage:"\u0635\u0641\u062d\u0647",labelDisplayedRows:function(e){var n=e.from,t=e.to,r=e.count;return"".concat(n,"\u2013").concat(t," \u0627\u0632 ").concat(-1!==r?r:"more than ".concat(t))},count:B.length,rowsPerPage:k,page:t,onPageChange:function(e,n){i(n)},onRowsPerPageChange:function(e){P(+e.target.value),i(0)}})]})]})}var X=t(72053),$=(new k.Z("/users"),function(){return(0,T.jsx)(X.Z,{children:(0,T.jsx)(Q,{})})})}}]);
//# sourceMappingURL=523.6d7d84bb.chunk.js.map